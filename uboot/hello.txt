sbabic/swupdate
https://github.com/sbabic/swupdate/blob/master/doc/source/building-with-yocto.rst
What about libubootenv ?
To avoid possible mismatch, a new library was developed to be hardware independent. A strict match with the bootloader is not required anymore. The meta-swupdate layer contains recipes to build the new library (libubootenv) and adjust SWUpdate to be linked against it. To use it as replacement for u-boot-fw-utils:

set PREFERRED_PROVIDER_u-boot-fw-utils = "libubootenv"
add to SWUpdate config:
CONFIG_UBOOT=y
CONFIG_UBOOT_NEWAPI=y


/DATA/lllllll/imx8_yocto_5.10.9_1.0.0/build-lllllll-aaaaaaa/tmp/work/llllllla-poky-linux/u-boot-imx/2020.04+lllllllaaaa-r0/git/include/configs/imx8mp_evk
.h" 294 lines --52%-


https://elinux.org/U-boot_environment_variables_in_linux

fw_env.config file:

  # Configuration file for fw_(printenv/setenv) utility.
  # Up to two entries are valid, in this case the redundant
  # environment sector is assumed present.
  # MTD device name       Device offset   Env. size       Flash sector size
         /dev/mtd2               0x0000          0x20000         0x20000

# fw_printenv stdin
  stdin=serial
  
# fw_setenv mytestvariable abcdefg
 # fw_printenv mytestvariable
 mytestenv=abcdefg
